spring:
  main:
    allow-bean-definition-overriding: true
  datasource:
    url: jdbc:h2:mem:kraftdb;MODE=MariaDB;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
    show-sql: false

  # Flyway 활성화 - 테스트에서도 실제 환경과 동일한 스키마 사용
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    clean-disabled: false

  # Redis 설정 (테스트용 - 인메모리 또는 TestContainers)
  data:
    redis:
      host: localhost
      port: 6379

  # Session 설정 - Redis 사용
  session:
    store-type: redis
    timeout: 1800s

logging:
  level:
    root: INFO
    org.hibernate.SQL: DEBUG
    org.flywaydb: DEBUG

